{
  "name": "model-updated",
  "description": "Model updated event",
  "attributes": [
    {
      "name": "modelId",
      "type": "string",
      "description": "Model ID (uuid)",
      "required": true
    },
    {
      "name": "agencyId",
      "type": "string",
      "description": "Agency ID (uuid)",
      "required": true
    },
    {
      "name": "name",
      "type": "string",
      "description": "Model name",
      "required": true
    },
    {
      "name": "rooms",
      "description": "Rooms",
      "required": true,
      "arrayOf": {
        "description": "Room",
        "attributes": [
          {
            "name": "name",
            "type": "string",
            "description": "Room name",
            "required": true
          },
          {
            "name": "description",
            "type": "string",
            "description": "Room description"
          },
          {
            "name": "area",
            "type": "number",
            "description": "Room area in square meters"
          },
          {
            "name": "elements",
            "description": "Elements of the room",
            "required": true,
            "arrayOf": {
              "description": "Element",
              "attributes": [
                {
                  "name": "name",
                  "type": "string",
                  "description": "Element name",
                  "required": true
                },
                {
                  "name": "description",
                  "type": "string",
                  "description": "Element description"
                },
                {
                  "name": "images",
                  "description": "Images of the element",
                  "arrayOf": "string"
                },
                {
                  "name": "type",
                  "enum": [
                    "FURNITURE",
                    "STRUCTURAL",
                    "ELECTRICAL",
                    "PLUMBING",
                    "VENTILATION",
                    "SURFACE",
                    "OTHER"
                  ],
                  "description": "Element type",
                  "required": true
                }
              ]
            }
          }
        ]
      }
    }
  ]
}