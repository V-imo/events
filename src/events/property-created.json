{
  "name": "property-created",
  "description": "Property created event",
  "attributes": [
    {
      "name": "propertyId",
      "type": "string",
      "description": "Property ID (uuid)",
      "required": true
    },
    {
      "name": "agencyId",
      "type": "string",
      "description": "Agency ID (uuid)",
      "required": true
    },
    {
      "name": "area",
      "type": "number",
      "description": "Property area in square meters"
    },
    {
      "name": "address",
      "required": true,
      "attributes": [
        {
          "name": "street",
          "type": "string",
          "description": "Property street",
          "required": true
        },
        {
          "name": "city",
          "type": "string",
          "description": "Property city",
          "required": true
        },
        {
          "name": "country",
          "type": "string",
          "description": "Property country",
          "required": true
        },
        {
          "name": "zipCode",
          "type": "string",
          "description": "Property zip code",
          "required": true
        },
        {
          "name": "number",
          "type": "string",
          "description": "Property number of the street. String because it can countains 'bis', 'ter', 'quater', etc.",
          "required": true
        }
      ]
    },
    {
      "name": "owner",
      "description": "Property owner",
      "attributes": [
        {
          "name": "firstName",
          "type": "string",
          "description": "Property owner first name",
          "required": true
        },
        {
          "name": "lastName",
          "type": "string",
          "description": "Property owner last name",
          "required": true
        },
        {
          "name": "mail",
          "type": "string",
          "description": "Property contact mail"
        },
        {
          "name": "phoneNumber",
          "type": "string",
          "description": "Property contact phone"
        }
      ]
    },
    {
      "name": "rooms",
      "description": "Rooms",
      "required": true,
      "arrayOf": {
        "description": "Room",
        "attributes": [
          {
            "name": "name",
            "type": "string",
            "description": "Room name",
            "required": true
          },
          {
            "name": "description",
            "type": "string",
            "description": "Room description"
          },
          {
            "name": "area",
            "type": "number",
            "description": "Room area in square meters"
          },
          {
            "name": "elements",
            "description": "Elements of the room",
            "required": true,
            "arrayOf": {
              "description": "Element",
              "attributes": [
                {
                  "name": "name",
                  "type": "string",
                  "description": "Element name",
                  "required": true
                },
                {
                  "name": "description",
                  "type": "string",
                  "description": "Element description"
                },
                {
                  "name": "images",
                  "description": "Images of the element",
                  "arrayOf": "string"
                },
                {
                  "name": "type",
                  "enum": [
                    "FURNITURE",
                    "STRUCTURAL",
                    "ELECTRICAL",
                    "PLUMBING",
                    "VENTILATION",
                    "SURFACE",
                    "OTHER"
                  ],
                  "description": "Element type",
                  "required": true
                }
              ]
            }
          }
        ]
      }
    }
  ]
}
